<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Test ouverture PDF en WebView</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 1.5rem;
      background: #fafafa;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 1.5rem;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    h1 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      font-weight: bold;
    }
    button {
      display: block;
      width: 100%;
      margin: 0.4rem 0;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      border-radius: 4px;
      border: 1px solid #ccc;
      background: #f0f0f0;
      cursor: pointer;
      text-align: left;
    }
    button:hover {
      background: #e5e5e5;
    }
    .section-title {
      margin-top: 1.5rem;
      font-weight: bold;
    }
    .log {
      margin-top: 1rem;
      font-family: monospace;
      font-size: 0.85rem;
      background: #f0f0f0;
      color: #333;
      padding: 0.75rem;
      border-radius: 4px;
      max-height: 200px;
      overflow: auto;
      white-space: pre-wrap;
      border: 1px solid #ccc;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Test d'ouverture (PDF & Liens)</h1>

    <div class="section-title">PDF</div>

    <button id="pdf-blank">PDF → window.open(url, "_blank")</button>
    <button id="pdf-system">PDF → window.open(url, "_system")</button>
    <button id="pdf-location">PDF → window.location.href</button>

    <div class="section-title">Google.fr</div>

    <button id="google-blank">Google → window.open("_blank")</button>
    <button id="google-system">Google → window.open("_system")</button>
    <button id="google-location">Google → window.location.href</button>
	
	<div class="section-title">PDF avec Google viewer</div>

	<button id="gview-blank">Google Viewer → window.open("_blank")</button>
	<button id="gview-system">Google Viewer → window.open("_system")</button>
	<button id="gview-location">Google Viewer → window.location.href</button>

    <div class="log" id="log"></div>
  </div>

  <script>
    const PDF_URL = "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf";
    const GOOGLE_URL = "https://google.fr";
	const GV_URL = "https://docs.google.com/gview?embedded=1&url=" + PDF_URL;


    function log(msg) {
      const div = document.getElementById("log");
      const time = new Date().toISOString().split("T")[1].split(".")[0];
      div.textContent += `[${time}] ${msg}\n`;
      div.scrollTop = div.scrollHeight;
      console.log(msg);
    }

    document.addEventListener("DOMContentLoaded", () => {
      // ---- PDF ----
      document.getElementById("pdf-blank").addEventListener("click", () => {
        log('PDF → window.open(PDF_URL, "_blank")');
        window.open(PDF_URL, "_blank");
      });

      document.getElementById("pdf-system").addEventListener("click", () => {
        log('PDF → window.open(PDF_URL, "_system")');
        window.open(PDF_URL, "_system");
      });

      document.getElementById("pdf-location").addEventListener("click", () => {
        log("PDF → window.location.href = PDF_URL");
        window.location.href = PDF_URL;
      });

      // ---- GOOGLE ----
      document.getElementById("google-blank").addEventListener("click", () => {
        log('Google → window.open(GOOGLE_URL, "_blank")');
        window.open(GOOGLE_URL, "_blank");
      });

      document.getElementById("google-system").addEventListener("click", () => {
        log('Google → window.open(GOOGLE_URL, "_system")');
        window.open(GOOGLE_URL, "_system");
      });

      document.getElementById("google-location").addEventListener("click", () => {
        log("Google → window.location.href = GOOGLE_URL");
        window.location.href = GOOGLE_URL;
      });
	  
	  // ---- PDF avec Google viewer ----
	  document.getElementById("gview-blank").addEventListener("click", () => {
	    log('Google Viewer → window.open(GV_URL, "_blank")');
	    window.open(GV_URL, "_blank");
	  });

	  document.getElementById("gview-system").addEventListener("click", () => {
	    log('Google Viewer → window.open(GV_URL, "_system")');
	    window.open(GV_URL, "_system");
	  });
	  
	  document.getElementById("gview-location").addEventListener("click", () => {
	    log("Google Viewer → window.location.href = GV_URL");
	    window.location.href = GV_URL;
	  });
    });
  </script>
</body>
</html>
